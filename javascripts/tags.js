function cal_tagcloud_width(t,i){return Math.min(60*t,Math.min(400,.8*i))}function cal_tagcloud_height(t,i){return Math.min(30*t,Math.min(250,.8*i))}var resizeTimeout={},resizeContext={};$(function(){$.getJSON("tags.json",function(t,i){$(window).resize(function(){clearTimeout(resizeTimeout),resizeTimeout=setTimeout(function(){var i=cal_tagcloud_width(t.length,resizeContext.w),e=cal_tagcloud_height(t.length,resizeContext.h),n=cal_tagcloud_width(t.length,$(window).width()),o=cal_tagcloud_height(t.length,$(window).height());$("#tag_cloud").hasClass("inited")&&i==n&&e==o||$("#tag_cloud").empty().jQCloud(t,{width:n,height:o,afterCloudRender:function(){$("a",this).click(function(){var t=$(this).attr("href").toString().substring(1);return $("[id^=tag-]").each(function(i,e){encodeURI($(e).attr("id").toString())!=t?$(e).hide():$(e).show()}),!1})}}).addClass("inited")},500),resizeContext.w=$(window).width(),resizeContext.h=$(window).height()}),$(window).resize()})});